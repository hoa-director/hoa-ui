<div class="main-neighborhood-div">

    <ng-container>
        <button
            mat-raised-button
            color="primary"
            class="btn btn-primary btn-add-neighborhood"
            (click)="goToAddNeighborhood()"
        >
            New Neighborhood
        </button>
    </ng-container>

    <br>

    <!-- Table -->
    <table mat-table [dataSource]="neighborhoodRows" class="mat-elevation-z8" #neighborhoodTable>

        <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef>Name</th>
            <td mat-cell *matCellDef="let association">{{association.name}}</td>
        </ng-container>

        <ng-container matColumnDef="createdAt">
            <th mat-header-cell class="text-center" *matHeaderCellDef>Created</th>
            <td mat-cell class="text-center" *matCellDef="let association">{{association.createdAt | date:'shortDate'}}</td>
        </ng-container>
        
        <ng-container matColumnDef="updatedAt">
            <th mat-header-cell class="text-center" *matHeaderCellDef>Last Updated</th>
            <td mat-cell class="text-center" *matCellDef="let association">
                {{neverUpdated ? 'Never' : (association.updatedAt | date:'shortDate')}}
            </td>
        </ng-container>

        <ng-container matColumnDef="propertyCount">
            <th mat-header-cell class="text-center" *matHeaderCellDef>Property Count</th>
            <td mat-cell class="text-center" *matCellDef="let association">
                {{association.propertyCount}}
            </td>
        </ng-container>

        <ng-container matColumnDef="ownerCount">
            <th mat-header-cell class="text-center" *matHeaderCellDef>Owner Count</th>
            <td mat-cell class="text-center" *matCellDef="let association">
                {{association.ownerCount}}
            </td>
        </ng-container>

        <ng-container matColumnDef="viewButton">
            <th mat-header-cell *matHeaderCellDef></th>
            <td mat-cell *matCellDef="let association">
                <button
                    [id]="association.id"
                    mat-raised-button
                    color="accent"
                    class="btn btn-primary float-right"
                    (click)="viewNeighborhood(association)"
                >
                    View
                </button>
            </td>
        </ng-container>

        <ng-container matColumnDef="editButton">
            <th mat-header-cell *matHeaderCellDef></th>
            <td mat-cell *matCellDef="let association">
                <button
                    [id]="association.id"
                    mat-raised-button
                    color="accent"
                    class="btn btn-primary float-right"
                    type="submit"
                    (click)="editNeighborhood(association.id)"
                >
                    Edit
                </button>
            </td>
        </ng-container>


        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>


</div>
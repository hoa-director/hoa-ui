<div class="main-units-edit-div">
    <div class="main-units-edit-div">
        <div class="form-container-unitToggle" id="toggleUnitactive">
            <div class="form-grid">
                <div class="form-div-unitToggle">
                    <label>Unit Status:</label>
                    <div [ngClass]="!currentUnit ? 'flex-toggle-div-disabled' : 'flex-toggle-div-enabled '">
                        <div class="flex-toggle-inner-div" >
                            Inactive
                            <mat-slide-toggle color="primary" 
                                labelPosition="before" 
                                [disabled]="!currentUnit" 
                                [(ngModel)]="unitStatus"
                                (ngModelChange)="onToggleChangeUnit()"
                                >
                            </mat-slide-toggle>
                            Active
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- FORM -->
        <div class="form-container">
            <form [formGroup]="editUnitForm" (ngSubmit)="saveUnitChanges()">
                <div class="form-grid">
                    
                    <div class="form-div">
                        <label for="inputUnitId">Select Unit: </label>
                        <mat-form-field appearance="outline">
                            <mat-select
                            id="inputUnitId"
                            matInputclass="form-control"
                            formControlName="unitId"
                            >
                            <mat-option *ngFor="let unit of allUnits" [value]="unit.unit.unitId">
                                {{unit.unit.addressLineOne}}, 
                                {{unit.unit.addressLineTwo}} 
                            </mat-option>

                            <!-- <mat-option value="1">Unit 1</mat-option>
                            <mat-option value="2">Unit 2</mat-option>
                            <mat-option value="3">Unit 3</mat-option> -->
                                <!-- <mat-option *ngFor="let association of associations" [value]="association.id">{{association.associationName}}</mat-option> -->
                            </mat-select>
                        </mat-form-field>
                        <!-- <div class="validatorMsg" *ngIf="editUnitForm.get('associationId').errors?.required && editUnitForm.get('associationId').touched">
                            Organization is required
                        </div> -->
                    </div>

                    <div class="form-div">
                        <label for="inputAssociationId">Association: </label>
                        <mat-form-field appearance="outline">
                            <mat-select
                            id="inputAssociationId"
                            matInputclass="form-control"
                            formControlName="associationId"
                            >
                                <mat-option *ngFor="let association of associations" [value]="association.id">
                                {{association.associationName}}
                            </mat-option>
                            </mat-select>
                        </mat-form-field>
                        <!-- <div class="validatorMsg" *ngIf="editUnitForm.get('associationId').errors?.required && editUnitForm.get('associationId').touched">
                            Organization is required
                        </div> -->
                    </div>
                    <div class="form-div">
                        <label for="inputAddressLineOne">Address Line One:</label>
                        <mat-form-field appearance="outline">
                            <input 
                                id="inputAddressLineOne"
                                matInput
                                class="form-control"
                                formControlName="addressLineOne"
                                type="text"
                                />
                        </mat-form-field>
                    </div>
                    <div class="form-div">
                        <label for="inputAddressLineTewo">Address Line Two:</label>
                        <mat-form-field appearance="outline">
                            <input 
                            id="inputAddressLineTewo"
                            matInput
                            class="form-control"
                            formControlName="addressLineTwo"
                            type="text"
                            />
                        </mat-form-field>
                    </div>
                    <div class="form-div">
                        <label for="inputCity">City:</label>
                        <mat-form-field appearance="outline">
                            <input 
                            id="inputCity"
                            matInput
                            class="form-control"
                            formControlName="city"
                            type="text"
                            />
                        </mat-form-field>
                        <div class="validatorMsg" *ngIf="editUnitForm.get('city').errors?.required && editUnitForm.get('city').touched">
                            City is required
                        </div>
                    </div>
                    <div class="form-div">
                        <label for="inputState">State:</label>
                        <mat-form-field appearance="outline">
                            <mat-select
                            id="inputState"
                            matInput
                            class="form-control"
                            formControlName="state"
                            >
                                <mat-option value="MN">MN</mat-option>
                                <mat-option value="WI">WI</mat-option>
                            </mat-select>
                        </mat-form-field>
                        <div class="validatorMsg" *ngIf="editUnitForm.get('state').errors?.required && editUnitForm.get('state').touched">
                            State is required
                        </div>
                    </div>
                    <div class="form-div">
                        <label for="inputZip">Zip Code:</label>
                        <mat-form-field appearance="outline">
                            <input 
                            id="inputZip"
                            matInput
                            class="form-control"
                            formControlName="zip"
                            type="text"
                            />
                        </mat-form-field>
                        <div class="validatorMsg" *ngIf="editUnitForm.get('zip').errors?.required && editUnitForm.get('zip').touched">
                            Zip Code is required
                        </div>
                    </div>
                    <div class="form-div">
                        <label for="inputUser">Unit Owner:</label>
                        <mat-form-field appearance="outline">
                            <mat-select
                                id="inputUser"
                                matInput
                                class="form-control"
                                formControlName="user"
                            >
                                <mat-option [value]="0">Vacant</mat-option>
                                <mat-option *ngFor="let unit of availableUsers" [value]="unit.id">
                                    {{unit.firstName}} 
                                    {{unit.lastName}} 
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                </div>
                <div class="buttons-div">
                    <button
                        mat-raised-button
                        id="Submit-editUnitForm-button"
                        class="edit-button"
                        color="primary"
                        type="submit"
                        [disabled]="formIsDisabled"       
                        >
                        Save
                    </button>
                    <button
                        mat-raised-button
                        id="delete-editUnitForm-button"
                        class="edit-button"
                        color="secondary"
                        type="button"
                        [disabled]="formIsDisabled"
                        (click)="onDelete()"      
                        >
                        Delete
                    </button>
                    <button
                        mat-raised-button
                        id="clear-editUnitForm-button"
                        class="edit-button"
                        color="secondary"
                        type="button"
                        [disabled]="formIsDisabled"
                        (click)="onReset()"
                        >
                        Cancel
                    </button>
                </div>
            </form>
        </div>
    </div>
    
</div>


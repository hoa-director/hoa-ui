<div class="main-units-view-div">

  <!-- <router-outlet></router-outlet> -->

  <form [formGroup]="searchUnitsForm" >
    <!-- <label class="form-label" for="searchUsersForm">Search For a User</label> -->
    <mat-form-field>
        <input 
        id="inputString"
        matInput
        class="form-control"
        formControlName="inputText"
        type="text"
        placeholder="Search by unit or owner info"

        [(ngModel)]="inputString"
        (ngModelChange)="onInputChange()"
        />
    </mat-form-field>    

    <button
        class="add-user-button"    
        mat-raised-button
        color="secondary"

        (click)="onReset()"
    >
        Clear
    </button>
</form>

  <div class="flex-container">
    <div *ngFor="let unit of units">
      <mat-card class="unit-card">
        <mat-card-header>
          <!-- <div mat-card-avatar class="header-image"></div> -->
            <div class="header-content">
              <mat-card-title class="unit-card-name" >
                <!-- {{(unit.firstName ? unit.firstName : 'no first name')}}
                {{(unit.lastName ? unit.lastName : 'no last name')}} -->
                {{ (unit.user ? (unit.user.firstName ? unit.user.firstName : '')  + " " + (unit.user.lastName ? unit.user.lastName : '' ) : "No User (Vacant)." ) }}
              </mat-card-title>
              <mat-card-actions>
                <button 
                class="edit-button"
                mat-raised-button
                color="secondary"
                >Edit</button>
              </mat-card-actions>
            </div>
          <!-- <mat-card-subtitle>Owner</mat-card-subtitle> -->
        </mat-card-header>
        <hr />
        <!-- <img mat-card-image src="https://www.bankrate.com/2015/06/19095912/low-apprasials-and-condo-associations-can-trip-up-mortgages.jpg" alt=""> -->
        <mat-card-content class="card-content">
          <div class="contact-info">
            <h4>Address:</h4>
            <div class="address-line-1">
              {{ unit.addressLineOne ? unit.addressLineOne: '' }},
              <br>
              {{ unit.addressLineTwo ? unit.addressLineTwo: '' }}
              <br>
              {{unit.city ? unit.city : ''}}, 
              {{unit.state ? unit.state : ''}},
              {{unit.zip ? unit.zip : ''}}
            </div>
            <br />
            <h4>E-Mail:</h4>
            <div *ngIf="unit" class="email">
              <!-- {{ user.email }} -->
              {{ (unit.user?unit.user.email : "No Email." ) }}
            </div>
            <br />
            <h4>Phone:</h4>
            <div *ngIf="unit" class="phone">
              <!-- {{ unit.number | phone : "US" }} -->
                <!-- {{ unit.number ? unit.number : 'No Phone Number'}} -->
            </div>
          </div>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>